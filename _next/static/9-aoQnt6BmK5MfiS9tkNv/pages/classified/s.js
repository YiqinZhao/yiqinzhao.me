(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"5FWx":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/classified/s",function(){return n("lGt3")}])},"9Jkg":function(e,t,n){e.exports=n("oh+g")},UXZV:function(e,t,n){e.exports=n("UbbE")},UbbE:function(e,t,n){n("o8NH"),e.exports=n("WEpk").Object.assign},jYEY:function(e,t,n){var r;!function(a){"use strict";function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t,n,r,a,o){return i((c=i(i(t,e),i(r,o)))<<(l=a)|c>>>32-l,n);var c,l}function c(e,t,n,r,a,i,c){return o(t&n|~t&r,e,t,a,i,c)}function l(e,t,n,r,a,i,c){return o(t&r|n&~r,e,t,a,i,c)}function s(e,t,n,r,a,i,c){return o(t^n^r,e,t,a,i,c)}function u(e,t,n,r,a,i,c){return o(n^(t|~r),e,t,a,i,c)}function d(e,t){var n,r,a,o,d;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var f=1732584193,b=-271733879,h=-1732584194,p=271733878;for(n=0;n<e.length;n+=16)r=f,a=b,o=h,d=p,f=c(f,b,h,p,e[n],7,-680876936),p=c(p,f,b,h,e[n+1],12,-389564586),h=c(h,p,f,b,e[n+2],17,606105819),b=c(b,h,p,f,e[n+3],22,-1044525330),f=c(f,b,h,p,e[n+4],7,-176418897),p=c(p,f,b,h,e[n+5],12,1200080426),h=c(h,p,f,b,e[n+6],17,-1473231341),b=c(b,h,p,f,e[n+7],22,-45705983),f=c(f,b,h,p,e[n+8],7,1770035416),p=c(p,f,b,h,e[n+9],12,-1958414417),h=c(h,p,f,b,e[n+10],17,-42063),b=c(b,h,p,f,e[n+11],22,-1990404162),f=c(f,b,h,p,e[n+12],7,1804603682),p=c(p,f,b,h,e[n+13],12,-40341101),h=c(h,p,f,b,e[n+14],17,-1502002290),f=l(f,b=c(b,h,p,f,e[n+15],22,1236535329),h,p,e[n+1],5,-165796510),p=l(p,f,b,h,e[n+6],9,-1069501632),h=l(h,p,f,b,e[n+11],14,643717713),b=l(b,h,p,f,e[n],20,-373897302),f=l(f,b,h,p,e[n+5],5,-701558691),p=l(p,f,b,h,e[n+10],9,38016083),h=l(h,p,f,b,e[n+15],14,-660478335),b=l(b,h,p,f,e[n+4],20,-405537848),f=l(f,b,h,p,e[n+9],5,568446438),p=l(p,f,b,h,e[n+14],9,-1019803690),h=l(h,p,f,b,e[n+3],14,-187363961),b=l(b,h,p,f,e[n+8],20,1163531501),f=l(f,b,h,p,e[n+13],5,-1444681467),p=l(p,f,b,h,e[n+2],9,-51403784),h=l(h,p,f,b,e[n+7],14,1735328473),f=s(f,b=l(b,h,p,f,e[n+12],20,-1926607734),h,p,e[n+5],4,-378558),p=s(p,f,b,h,e[n+8],11,-2022574463),h=s(h,p,f,b,e[n+11],16,1839030562),b=s(b,h,p,f,e[n+14],23,-35309556),f=s(f,b,h,p,e[n+1],4,-1530992060),p=s(p,f,b,h,e[n+4],11,1272893353),h=s(h,p,f,b,e[n+7],16,-155497632),b=s(b,h,p,f,e[n+10],23,-1094730640),f=s(f,b,h,p,e[n+13],4,681279174),p=s(p,f,b,h,e[n],11,-358537222),h=s(h,p,f,b,e[n+3],16,-722521979),b=s(b,h,p,f,e[n+6],23,76029189),f=s(f,b,h,p,e[n+9],4,-640364487),p=s(p,f,b,h,e[n+12],11,-421815835),h=s(h,p,f,b,e[n+15],16,530742520),f=u(f,b=s(b,h,p,f,e[n+2],23,-995338651),h,p,e[n],6,-198630844),p=u(p,f,b,h,e[n+7],10,1126891415),h=u(h,p,f,b,e[n+14],15,-1416354905),b=u(b,h,p,f,e[n+5],21,-57434055),f=u(f,b,h,p,e[n+12],6,1700485571),p=u(p,f,b,h,e[n+3],10,-1894986606),h=u(h,p,f,b,e[n+10],15,-1051523),b=u(b,h,p,f,e[n+1],21,-2054922799),f=u(f,b,h,p,e[n+8],6,1873313359),p=u(p,f,b,h,e[n+15],10,-30611744),h=u(h,p,f,b,e[n+6],15,-1560198380),b=u(b,h,p,f,e[n+13],21,1309151649),f=u(f,b,h,p,e[n+4],6,-145523070),p=u(p,f,b,h,e[n+11],10,-1120210379),h=u(h,p,f,b,e[n+2],15,718787259),b=u(b,h,p,f,e[n+9],21,-343485551),f=i(f,r),b=i(b,a),h=i(h,o),p=i(p,d);return[f,b,h,p]}function f(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function b(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function h(e){var t,n,r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return r}function p(e){return unescape(encodeURIComponent(e))}function g(e){return function(e){return f(d(b(e),8*e.length))}(p(e))}function m(e,t){return function(e,t){var n,r,a=b(e),i=[],o=[];for(i[15]=o[15]=void 0,a.length>16&&(a=d(a,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^a[n],o[n]=1549556828^a[n];return r=d(i.concat(b(t)),512+8*t.length),f(d(o.concat(r),640))}(p(e),p(t))}function x(e,t,n){return t?n?m(t,e):h(m(t,e)):n?g(e):h(g(e))}void 0===(r=function(){return x}.call(t,n,t,e))||(e.exports=r)}()},kwZ1:function(e,t,n){"use strict";var r=n("jmDH"),a=n("w6GO"),i=n("mqlF"),o=n("NV0k"),c=n("JB68"),l=n("M1xp"),s=Object.assign;e.exports=!s||n("KUxP")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=c(e),s=arguments.length,u=1,d=i.f,f=o.f;s>u;)for(var b,h=l(arguments[u++]),p=d?a(h).concat(d(h)):a(h),g=p.length,m=0;g>m;)b=p[m++],r&&!f.call(h,b)||(n[b]=h[b]);return n}:s},lGt3:function(e,t,n){"use strict";n.r(t);var r=n("9Jkg"),a=n.n(r),i=n("UXZV"),o=n.n(i),c=n("eVuF"),l=n.n(c),s=n("ln6h"),u=n.n(s),d=n("O40h"),f=n("0iUn"),b=n("MI3g"),h=n("a7VT"),p=n("AT/M"),g=n("sLSF"),m=n("Tit0"),x=n("vYYK"),w=n("q1tI"),v=n.n(w),j=n("8Kt/"),y=n.n(j),k=n("GP6N"),O=n("zgjP"),N=n.n(O),F=n("RDo1"),C=n("3bhu"),S=n("4oX2"),E=n("/WnG"),T=n("AQz0"),P=n("KoTp"),W=n("iBPG"),Y=n("jYEY"),q=n.n(Y),z=v.a.createElement,A={titleContainer:Object(k.b)({width:"100%",marginBottom:"30px"}),title:Object(k.b)({margin:"0 0 10px 0",fontSize:"3rem"}),meta:Object(k.b)({width:"100%",borderBottom:"1px dashed rgba(0, 0, 0, 0.4)"}),category:Object(k.b)({fontWeight:"bold",lineHeight:"2rem"}),date:Object(k.b)({marginLeft:"10px",lineHeight:"2rem"}),passwordField:Object(k.b)({width:"100%",height:"3rem",border:"0.5px solid rgba(0, 0, 0, 0.2)",fontSize:"1.1rem",padding:"0 0.7rem",boxSizing:"border-box",transition:"box-shadow linear 300ms",textAlign:"center",$nest:{"&:focus":{outlineWidth:"0",boxShadow:"0 5px 10px rgba(0, 0, 0, 0.1)"}}}),button:Object(k.b)({width:"100%",maxWidth:"400px",fontSize:"0.9rem",border:"none",boxShadow:"0 5px 12px rgb(134, 186, 251)",padding:"0.6rem 0.8rem",backgroundColor:"#74b0fb",color:"#FFFFFF",fontWeight:"bold",transition:"box-shadow linear 100ms",borderRadius:"3px",cursor:"pointer",marginTop:"2rem",$nest:{"&:focus":{outlineWidth:"0"},"&:active":{boxShadow:"0 2px 6px rgb(134, 186, 251)",backgroundColor:"#86bafb",color:"#FEFEFE","-webkit-tap-highlight-color":"transparent"}}}),bodyLoading:Object(k.b)({fontFamily:"Impact, sans-serif",fontSize:"1.8rem",color:"#5696E7"}),watermark:Object(k.b)({position:"fixed",left:"-20vw",top:"0",width:"100vw",height:"113px",fontSize:"1.25rem",color:"rgba(0, 0, 0, 0.2)",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,zIndex:10},Object(k.a)({minWidth:320,maxWidth:480},{left:"0",height:"62px"})),ert:Object(k.b)({marginLeft:"10px",lineHeight:"2rem",opacity:.4})},I=function(e){function t(e){var n;return Object(f.a)(this,t),n=Object(b.a)(this,Object(h.a)(t).call(this,e)),Object(x.a)(Object(p.a)(n),"onProceedButtonClick",Object(d.a)(u.a.mark(function e(){var t,r,i,c,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.loading){e.next=2;break}return e.abrupt("return");case 2:if(t=new URL(window.location.href),r=t.searchParams.get("id"),!(i=document.getElementById("password").value)||!r){e.next=19;break}if(!requestIdleCallback){e.next=12;break}return e.next=9,new l.a(function(e){return requestIdleCallback(function(){Fingerprint2.get(function(t){e(t)})})});case 9:c=e.sent,e.next=15;break;case 12:return e.next=14,new l.a(function(e){return requestIdleCallback(function(){Fingerprint2.get(function(t){e(t)})})});case 14:c=e.sent;case 15:c=c.reduce(function(e,t){return"canvas"!==t.key?o()({},e,Object(x.a)({},t.key,t.value)):e},{}),s={id:r,password:i,fingerprint:q()(a()(c)),payload:c},n.setState({loading:!0}),N()("".concat(W.a,"/api/classified"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:a()(s)}).then(function(e){return e.ok?e.json():l.a.reject(e)}).then(function(e){n.setState({article:e,authored:!0,loading:!1}),setTimeout(function(){window.scrollTo(0,0)},10),setTimeout(function(){document.getElementById("embedded-music").src=e.meta.music},500)}).catch(function(e){alert("Authorization failed!"),n.setState({authored:!1,loading:!1})});case 19:case"end":return e.stop()}},e)}))),n.state={article:null,authored:!1,loading:!1},n}return Object(m.a)(t,e),Object(g.a)(t,null,[{key:"getInitialProps",value:function(){var e=Object(d.a)(u.a.mark(function e(t){var r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.req){e.next=5;break}return r=n("Wgwc"),a=r().format("MMM D, YYYY"),e.abrupt("return",{date:a});case 5:return e.abrupt("return",__NEXT_DATA__.props.pageProps);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.authored,n=e.article,r=e.loading,a=this.props.date,i=t?z(F.a,{className:A.meta},z("div",{className:A.category},n.meta.category),z("div",{className:A.date},n.meta.date),z("div",{className:A.ert},Math.ceil(n.body.length/400),"min")):z(T.a,null),o=t?z(P.a,{content:n.body}):z("div",null,z("input",{id:"password",className:A.passwordField,type:"password"}),z("p",null,"You are accessing a classified article, password authentication is required. The password should already been provided from Yiqin to you, please use it."),z("p",null,z("b",null,"Note:")," Please ",z("b",null,"DO NOT")," ",z("u",null,"redistribute")," or ",z("u",null,"share any information")," from classified articles, including ",z("i",null,"copy-paste"),", ",z("i",null,"screenshot"),", ",z("i",null,"print"),", etc. To protect the classified information, your usage of ",z("a",{href:"yiqinzhao.me"},"yiqinzhao.me")," on classified articles ",z("b",null,"will be tracked"),". By clicking the ",z("i",null,"Proceed")," button, you have acknowledged and agree the above regulations."),z(F.a,{align:"flex-end"},z("button",{className:A.button,onClick:this.onProceedButtonClick},"Proceed")));o=r?z("div",{className:A.bodyLoading},"Loading..."):o;var c=n&&n.meta.music?z(E.a,null,z(T.a,null),z("iframe",{id:"embedded-music",frameBorder:"0",height:"86",width:"330",src:"data:text/html,<div style='font-size: 40px; text-align: center; width: 100%; line-height: 66px; font-family: Impact, sans-serif; color: rgba(0, 0, 0, 0.1)'>Loading Music</div>"}),z(T.a,null)):z(v.a.Fragment,null),l=t?z("div",{className:A.watermark},"Accessor: ",n.accessor):z(v.a.Fragment,null);return z("div",{className:"classified-container main-container"},z(y.a,null,z("title",null,"\ud83d\udd12 ",t?n.meta.title:"Classified"," | YiqinZhao"),z("script",{src:"//cdnjs.cloudflare.com/ajax/libs/fingerprintjs2/2.1.0/fingerprint2.min.js"})),z(C.a,null),l,z(E.a,null,z(T.a,null),z("div",{className:A.titleContainer},z("h1",{className:A.title},t?n.meta.title:"\ud83d\udd12 Require Authentication"),i),z(T.a,null)),c,z(E.a,null,z(T.a,null),o,z(T.a,null)),z(S.a,{date:a}))}}]),t}(v.a.Component);t.default=I},o8NH:function(e,t,n){var r=n("Y7ZC");r(r.S+r.F,"Object",{assign:n("kwZ1")})},"oh+g":function(e,t,n){var r=n("WEpk"),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}}},[["5FWx",1,0]]]);